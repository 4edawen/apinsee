[{"path":"https://inseefrlab.github.io/apinsee/CONTRIBUTING.html","id":null,"dir":"","previous_headings":"","what":"Contributing to apinsee","title":"Contributing to apinsee","text":"outlines propose change apinsee. detailed info contributing , please see development contributing guide.","code":""},{"path":"https://inseefrlab.github.io/apinsee/CONTRIBUTING.html","id":"fixing-typos","dir":"","previous_headings":"","what":"Fixing typos","title":"Contributing to apinsee","text":"can fix typos, spelling mistakes, grammatical errors documentation directly using GitHub web interface, long changes made source file. generally means ’ll need edit roxygen2 comments .R, .Rd file. can find .R file generates .Rd reading comment first line.","code":""},{"path":"https://inseefrlab.github.io/apinsee/CONTRIBUTING.html","id":"bigger-changes","dir":"","previous_headings":"","what":"Bigger changes","title":"Contributing to apinsee","text":"want make bigger change, ’s good idea first file issue make sure someone team agrees ’s needed. ’ve found bug, please file issue illustrates bug minimal reprex (also help write unit test, needed).","code":""},{"path":"https://inseefrlab.github.io/apinsee/CONTRIBUTING.html","id":"pull-request-process","dir":"","previous_headings":"Bigger changes","what":"Pull request process","title":"Contributing to apinsee","text":"Fork package clone onto computer. haven’t done , recommend using usethis::create_from_github(\"inseefrlab/apinsee\", fork = TRUE). Install development dependences devtools::install_dev_deps(), make sure package passes R CMD check running devtools::check(). R CMD check doesn’t pass cleanly, ’s good idea ask help continuing. Create Git branch pull request (PR). recommend using usethis::pr_init(\"brief-description--change\"). Make changes, commit git, create PR running usethis::pr_push(), following prompts browser. title PR briefly describe change. body PR contain Fixes #issue-number. user-facing changes, add bullet top NEWS.md (.e. just first header). Follow style described https://style.tidyverse.org/news.html.","code":""},{"path":"https://inseefrlab.github.io/apinsee/CONTRIBUTING.html","id":"code-style","dir":"","previous_headings":"Bigger changes","what":"Code style","title":"Contributing to apinsee","text":"New code follow tidyverse style guide. can use styler package apply styles, please don’t restyle code nothing PR. use roxygen2, Markdown syntax, documentation. use testthat unit tests. Contributions test cases included easier accept.","code":""},{"path":"https://inseefrlab.github.io/apinsee/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Romain Lesur. Author, maintainer. Institut National de la Statistique et des Études Économiques (INSEE). Copyright holder.","code":""},{"path":"https://inseefrlab.github.io/apinsee/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Lesur R (2023). apinsee: Manage Access Insee APIs. R package version 0.0.1.9000, https://github.com/InseeFrLab/apinsee.","code":"@Manual{,   title = {apinsee: Manage Access to Insee APIs},   author = {Romain Lesur},   year = {2023},   note = {R package version 0.0.1.9000},   url = {https://github.com/InseeFrLab/apinsee}, }"},{"path":"https://inseefrlab.github.io/apinsee/index.html","id":"apinsee","dir":"","previous_headings":"","what":"Manage Access to Insee APIs","title":"Manage Access to Insee APIs","text":"apinsee est un package pour le langage R destiné à faciliter l’authentification aux API de l’Insee accessibles à l’adresse api.insee.fr.","code":""},{"path":"https://inseefrlab.github.io/apinsee/index.html","id":"avertissement","dir":"","previous_headings":"","what":"Avertissement","title":"Manage Access to Insee APIs","text":"Ce package est en cours de développement. Ses fonctionnalités peuvent évoluer.","code":""},{"path":"https://inseefrlab.github.io/apinsee/index.html","id":"motivation","dir":"","previous_headings":"","what":"Motivation","title":"Manage Access to Insee APIs","text":"Comme toutes les API modernes, l’utilisation des API de l’Insee requiert d’utiliser une procédure d’authentification et de récupérer un jeton d’accès. Le site api.insee.fr recommande d’utiliser un nouveau jeton d’accès toutes les 24 heures. L’objectif du package apinsee est de faciliter la gestion et l’utilisation de ces jetons d’accès conformément à ces recommandations : il permet de récupérer automatiquement, depuis R, un nouveau jeton d’accès valide pour une durée de 24 heures.","code":""},{"path":"https://inseefrlab.github.io/apinsee/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Manage Access to Insee APIs","text":"Vous pouvez installer la version de développement depuis GitHub en exécutant :","code":"remotes::install_github(\"inseefrlab/apinsee\")"},{"path":[]},{"path":"https://inseefrlab.github.io/apinsee/index.html","id":"créer-une-application","dir":"","previous_headings":"Exemple","what":"Créer une application","title":"Manage Access to Insee APIs","text":"Créez une application sur le site api.insee.fr voir l’aide. Sauvegardez la clef du consommateur dans la variable d’environnement INSEE_APP_KEY et le secret du consommateur dans la variable d’environnement INSEE_APP_SECRET : la méthode la plus sûre est d’enregistrer ces deux variables d’environnement dans votre fichier .Renviron. Pour accéder facilement au fichier .Renviron, vous pouvez utiliser la commande usethis::edit_r_environ(\"user\"). Ajoutez ces deux lignes dans votre fichier .Renviron : Sauvegardez ce fichier et redémarrez votre session R.","code":"# clef du consommateur INSEE_APP_KEY=xxxxxxxxxxxxxxxxxx  # secret du consommateur INSEE_APP_SECRET=yyyyyyyyyyyyyyyyyy"},{"path":"https://inseefrlab.github.io/apinsee/index.html","id":"créer-et-utiliser-un-jeton-daccès","dir":"","previous_headings":"Exemple","what":"Créer et utiliser un jeton d’accès","title":"Manage Access to Insee APIs","text":"Le package apinsee ne comprend qu’une fonction utile : insee_auth(). Cette fonction permet de récupérer un jeton d’accès à votre application. Ce jeton d’accès peut être affecté à un objet et est sauvegardé de façon interne dans votre session R. Vous pouvez donc simplement exécuter la fonction : Les jetons d’accès ayant une durée de validité limitée, cette fonction permet de récupérer automatiquement un jeton valide. Ce token peut ensuite être utilisé comme valeur du paramètre token de la fonction httr::config() : Dès lors, vous pouvez accéder aux API de l’Insee auxquelles votre application souscrites.","code":"token <- apinsee::insee_auth() library(httr) set_config(config(token = token))"},{"path":"https://inseefrlab.github.io/apinsee/index.html","id":"utiliser-apinsee-dans-votre-package","dir":"","previous_headings":"","what":"Utiliser apinsee dans votre package","title":"Manage Access to Insee APIs","text":"Imaginons que vous souhaitiez développer un package qui accède à l’API Sirene. Vous pouvez créer la fonction suivante : Dès lors, votre utilisateur (s’il utilise une application ayant souscrit à l’API Sirene et qu’il correctement renseigné les variables d’environnement) aura à simplement exécuter la fonction requete_sirene_unitaire() de votre package :","code":"requete_siren_unitaire <- function(siren, date = NULL,                                    token = apinsee::insee_auth()) {   url <- httr::modify_url(     \"https://api.insee.fr/\",      path = c(\"entreprises\", \"sirene\", \"V3\", \"siren\", siren),      query = list(date = date)   )      res <- httr::GET(url, httr::config(token = token))      # check for rate limit   if (identical(httr::status_code(res), 429L)) {     Sys.sleep(60)     res <- httr::GET(url, httr::config(token = token))   }      httr::stop_for_status(res)   httr::content(res)[[\"uniteLegale\"]] } requete_siren_unitaire(siren = \"005520135\", date = Sys.Date()) #> $siren #> [1] \"005520135\" #>  #> $statutDiffusionUniteLegale #> [1] \"O\" #>  #> $dateCreationUniteLegale #> [1] \"1955-01-01\" #>  #> $sigleUniteLegale #> NULL #>  #> $sexeUniteLegale #> NULL #>  #> $prenom1UniteLegale #> NULL #>  #> $prenom2UniteLegale #> NULL #>  #> $prenom3UniteLegale #> NULL #>  #> $prenom4UniteLegale #> NULL #>  #> $prenomUsuelUniteLegale #> NULL #>  #> $pseudonymeUniteLegale #> NULL #>  #> $identifiantAssociationUniteLegale #> NULL #>  #> $trancheEffectifsUniteLegale #> [1] \"NN\" #>  #> $anneeEffectifsUniteLegale #> NULL #>  #> $dateDernierTraitementUniteLegale #> [1] \"2009-09-26T08:36:53\" #>  #> $nombrePeriodesUniteLegale #> [1] 8 #>  #> $categorieEntreprise #> NULL #>  #> $anneeCategorieEntreprise #> NULL #>  #> $periodesUniteLegale #> $periodesUniteLegale[[1]] #> $periodesUniteLegale[[1]]$dateFin #> NULL #>  #> $periodesUniteLegale[[1]]$dateDebut #> [1] \"2007-11-19\" #>  #> $periodesUniteLegale[[1]]$etatAdministratifUniteLegale #> [1] \"C\" #>  #> $periodesUniteLegale[[1]]$changementEtatAdministratifUniteLegale #> [1] TRUE #>  #> $periodesUniteLegale[[1]]$nomUniteLegale #> NULL #>  #> $periodesUniteLegale[[1]]$changementNomUniteLegale #> [1] FALSE #>  #> $periodesUniteLegale[[1]]$nomUsageUniteLegale #> NULL #>  #> $periodesUniteLegale[[1]]$changementNomUsageUniteLegale #> [1] FALSE #>  #> $periodesUniteLegale[[1]]$denominationUniteLegale #> [1] \"CHANVI GESTION\" #>  #> $periodesUniteLegale[[1]]$changementDenominationUniteLegale #> [1] FALSE #>  #> $periodesUniteLegale[[1]]$denominationUsuelle1UniteLegale #> NULL #>  #> $periodesUniteLegale[[1]]$denominationUsuelle2UniteLegale #> NULL #>  #> $periodesUniteLegale[[1]]$denominationUsuelle3UniteLegale #> NULL #>  #> $periodesUniteLegale[[1]]$changementDenominationUsuelleUniteLegale #> [1] FALSE #>  #> $periodesUniteLegale[[1]]$categorieJuridiqueUniteLegale #> [1] \"5710\" #>  #> $periodesUniteLegale[[1]]$changementCategorieJuridiqueUniteLegale #> [1] FALSE #>  #> $periodesUniteLegale[[1]]$activitePrincipaleUniteLegale #> [1] \"74.1J\" #>  #> $periodesUniteLegale[[1]]$nomenclatureActivitePrincipaleUniteLegale #> [1] \"NAFRev1\" #>  #> $periodesUniteLegale[[1]]$changementActivitePrincipaleUniteLegale #> [1] FALSE #>  #> $periodesUniteLegale[[1]]$nicSiegeUniteLegale #> [1] \"00038\" #>  #> $periodesUniteLegale[[1]]$changementNicSiegeUniteLegale #> [1] FALSE #>  #> $periodesUniteLegale[[1]]$economieSocialeSolidaireUniteLegale #> NULL #>  #> $periodesUniteLegale[[1]]$changementEconomieSocialeSolidaireUniteLegale #> [1] FALSE #>  #> $periodesUniteLegale[[1]]$caractereEmployeurUniteLegale #> [1] \"O\" #>  #> $periodesUniteLegale[[1]]$changementCaractereEmployeurUniteLegale #> [1] FALSE"},{"path":"https://inseefrlab.github.io/apinsee/index.html","id":"conseil-aux-développeurs-de-packages-utilisant-apinsee","dir":"","previous_headings":"Utiliser apinsee dans votre package","what":"Conseil aux développeurs de packages utilisant apinsee","title":"Manage Access to Insee APIs","text":"Si vous testez du code utilisant apinsee, vous devez mettre le package httpuv dans la rubrique Suggests du fichier DESCRIPTION de votre package.","code":""},{"path":"https://inseefrlab.github.io/apinsee/index.html","id":"utilisation-interne-à-linsee","dir":"","previous_headings":"","what":"Utilisation interne à l’Insee","title":"Manage Access to Insee APIs","text":"apinsee peut également être utilisé au sein de l’Insee pour les agents qui souhaiteraient accéder aux plateformes de test, recette ou pré-production. Le plus simple est de modifier l’option apinsee.url. La valeur par défaut de l’option apinsee.url est : Il vous suffit donc de rajouter avant d’exécuter vos scripts : Enfin, pour accéder à l’environnement de recette, il ne faut pas utiliser de proxy, vous devez donc également soit modifier les variables d’environnement http_proxy et https_proxy dans le fichier .Renviron (recommandé), soit rajouter :","code":"getOption(\"apinsee.url\") #> [1] \"https://api.insee.fr/\" options(apinsee.url = \"adresse.de.la.plateforme\") httr::set_config(httr::use_proxy(\"\"))"},{"path":"https://inseefrlab.github.io/apinsee/index.html","id":"licence","dir":"","previous_headings":"","what":"Licence","title":"Manage Access to Insee APIs","text":"Le code source de ce projet est publié sous licence MIT.","code":""},{"path":"https://inseefrlab.github.io/apinsee/reference/TokenInsee.html","id":null,"dir":"Reference","previous_headings":"","what":"Token objects for Insee applications — TokenInsee","title":"Token objects for Insee applications — TokenInsee","text":"Cette classe représente les jetons d'accès aux applications créées sur api.insee.fr et hérite de la classe Token2.0 du package httr. Les objets de cette classe doivent être créés en utilisant le constructeur insee_token().","code":""},{"path":"https://inseefrlab.github.io/apinsee/reference/TokenInsee.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Token objects for Insee applications — TokenInsee","text":"Un objet de classe R6.","code":""},{"path":"https://inseefrlab.github.io/apinsee/reference/TokenInsee.html","id":"methods","dir":"Reference","previous_headings":"","what":"Methods","title":"Token objects for Insee applications — TokenInsee","text":"has_expired() : le jeton d'accès -t-il expiré ? cache() : sauvegarde le jeton d'accès dans un cache. revoke() : révoque le jeton d'accès. refresh() : rafraichit le jeton d'accès (le point d'accès de rafraichissement OAuth2 n'étant pas disponible, le jeton d'accès courant est révoqué puis un nouveau jeton d'accès est généré).","code":""},{"path":"https://inseefrlab.github.io/apinsee/reference/TokenInsee.html","id":"caching","dir":"Reference","previous_headings":"","what":"Caching","title":"Token objects for Insee applications — TokenInsee","text":"OAuth tokens cached disk file called .httr-oauth saved current working directory.  Caching enabled : session interactive, user agrees , .httr-oauth file already present, getOption(\"httr_oauth_cache\") TRUE can suppress caching setting httr_oauth_cache option FALSE. Tokens cached based endpoint parameters. cache file included source code control R packages (contains private information), httr automatically add appropriate entries .gitignore .Rbuildignore needed.","code":""},{"path":"https://inseefrlab.github.io/apinsee/reference/TokenInsee.html","id":"super-classes","dir":"Reference","previous_headings":"","what":"Super classes","title":"Token objects for Insee applications — TokenInsee","text":"httr::Token -> httr::Token2.0 -> TokenInsee","code":""},{"path":"https://inseefrlab.github.io/apinsee/reference/TokenInsee.html","id":"methods-1","dir":"Reference","previous_headings":"","what":"Methods","title":"Token objects for Insee applications — TokenInsee","text":"httr::Token$cache() httr::Token$hash() httr::Token$initialize() httr::Token2.0$sign() httr::Token2.0$validate()","code":""},{"path":"https://inseefrlab.github.io/apinsee/reference/TokenInsee.html","id":"public-methods","dir":"Reference","previous_headings":"","what":"Public methods","title":"Token objects for Insee applications — TokenInsee","text":"TokenInsee$print() TokenInsee$init_credentials() TokenInsee$has_expired() TokenInsee$load_from_cache() TokenInsee$revoke() TokenInsee$refresh() TokenInsee$can_refresh() TokenInsee$clone()","code":""},{"path":[]},{"path":"https://inseefrlab.github.io/apinsee/reference/TokenInsee.html","id":"usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Token objects for Insee applications — TokenInsee","text":"","code":"TokenInsee$print(...)"},{"path":[]},{"path":"https://inseefrlab.github.io/apinsee/reference/TokenInsee.html","id":"usage-1","dir":"Reference","previous_headings":"","what":"Usage","title":"Token objects for Insee applications — TokenInsee","text":"","code":"TokenInsee$init_credentials()"},{"path":[]},{"path":"https://inseefrlab.github.io/apinsee/reference/TokenInsee.html","id":"usage-2","dir":"Reference","previous_headings":"","what":"Usage","title":"Token objects for Insee applications — TokenInsee","text":"","code":"TokenInsee$has_expired()"},{"path":[]},{"path":"https://inseefrlab.github.io/apinsee/reference/TokenInsee.html","id":"usage-3","dir":"Reference","previous_headings":"","what":"Usage","title":"Token objects for Insee applications — TokenInsee","text":"","code":"TokenInsee$load_from_cache()"},{"path":[]},{"path":"https://inseefrlab.github.io/apinsee/reference/TokenInsee.html","id":"usage-4","dir":"Reference","previous_headings":"","what":"Usage","title":"Token objects for Insee applications — TokenInsee","text":"","code":"TokenInsee$revoke()"},{"path":[]},{"path":"https://inseefrlab.github.io/apinsee/reference/TokenInsee.html","id":"usage-5","dir":"Reference","previous_headings":"","what":"Usage","title":"Token objects for Insee applications — TokenInsee","text":"","code":"TokenInsee$refresh()"},{"path":[]},{"path":"https://inseefrlab.github.io/apinsee/reference/TokenInsee.html","id":"usage-6","dir":"Reference","previous_headings":"","what":"Usage","title":"Token objects for Insee applications — TokenInsee","text":"","code":"TokenInsee$can_refresh()"},{"path":"https://inseefrlab.github.io/apinsee/reference/TokenInsee.html","id":"method-clone-","dir":"Reference","previous_headings":"","what":"Method clone()","title":"Token objects for Insee applications — TokenInsee","text":"objects class cloneable method.","code":""},{"path":"https://inseefrlab.github.io/apinsee/reference/TokenInsee.html","id":"usage-7","dir":"Reference","previous_headings":"","what":"Usage","title":"Token objects for Insee applications — TokenInsee","text":"","code":"TokenInsee$clone(deep = FALSE)"},{"path":"https://inseefrlab.github.io/apinsee/reference/TokenInsee.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Token objects for Insee applications — TokenInsee","text":"deep Whether make deep clone.","code":""},{"path":"https://inseefrlab.github.io/apinsee/reference/insee_auth.html","id":null,"dir":"Reference","previous_headings":"","what":"Authenticate to an Insee application — insee_auth","title":"Authenticate to an Insee application — insee_auth","text":"Cette fonction permet de s'authentifier via une application créée sur api.insee.fr : elle renvoie un jeton d'accès valide qui peut ensuite être passé en valeur du paramètre token de la fonction httr::config().","code":""},{"path":"https://inseefrlab.github.io/apinsee/reference/insee_auth.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Authenticate to an Insee application — insee_auth","text":"","code":"insee_auth(   new_auth = FALSE,   appname = \"DefaultApplication\",   key = Sys.getenv(\"INSEE_APP_KEY\"),   secret = Sys.getenv(\"INSEE_APP_SECRET\"),   validity_period = 604800,   api = c(\"Sirene - V3\", \"Nomenclatures - v1\", \"DonneesLocales - V0.1\", \"BDM - V1\"),   cache = FALSE,   verbose = TRUE,   insee_url = getOption(\"apinsee.url\") )"},{"path":"https://inseefrlab.github.io/apinsee/reference/insee_auth.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Authenticate to an Insee application — insee_auth","text":"new_auth booléen, valeur par défaut : FALSE. Passer TRUE si vous souhaitez révoquer le jeton d'accès et vous authentifier à nouveau. appname nom de l'application. key, secret clef et secret du consommateur. validity_period entier, durée de validité du jeton d'accès en secondes. api Un vecteur de chaînes de caractères dont chaque élément comprend le ou les noms des API accessibles par l'application. La correspondance partielle est acceptée. cache booléen indiquant si apinsee doit sauvegarder les jetons d'accès dans un fichier cache, par défaut .httr-oauth. verbose booléen; souhaitez-vous des messages d'information ? insee_url Adresse du site fournissant les API. Ce paramètre n'est utile que pour un usage interne à l'Insee, voir la section \"Utilisation interne à l'Insee\".","code":""},{"path":"https://inseefrlab.github.io/apinsee/reference/insee_auth.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Authenticate to an Insee application — insee_auth","text":"Un objet représentant un token pouvant être passé en valeur du paramètre token de la fonction httr::config().","code":""},{"path":"https://inseefrlab.github.io/apinsee/reference/insee_auth.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Authenticate to an Insee application — insee_auth","text":"Le couple clef du consommateur/secret du consommateur de l'application devant rester secret, il est vivement recommandé de ne jamais l'inclure dans un programme. La pratique recommandée est d'utiliser des variables d'environnement pour stocker ces informations. La fonction insee_auth() utilise deux variables d'environnement nommées INSEE_APP_KEY et INSEE_APP_SECRET. Une fois renseignées, l'authentification s'effectue par un simple appel à la fonction insee_auth(). Les variables d'environnement peuvent être déclarées dans le fichier .Renviron. La modification de ce fichier peut s'effectuer facilement grâce la fonction usethis::edit_r_environ().","code":""},{"path":"https://inseefrlab.github.io/apinsee/reference/insee_auth.html","id":"utilisation-interne-l-insee","dir":"Reference","previous_headings":"","what":"Utilisation interne à l'Insee","title":"Authenticate to an Insee application — insee_auth","text":"Dans le cas d'utilisation standard, la valeur de l'option apinsee.url est \"https://api.insee.fr/\". Il n'est pas utile de la modifier sauf pour les agents de l'Insee qui souhaiteraient utiliser les plateformes de test, de recette ou de pré-production. Dans ce cas, afin de rendre les programmes portables d'un environnement à un autre.il est préférable de déclarer l'adresse en modifiant l'option apinsee.url : options(apinsee.url = \"<URL>\").","code":""},{"path":[]},{"path":"https://inseefrlab.github.io/apinsee/reference/insee_auth.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Authenticate to an Insee application — insee_auth","text":"","code":"# Modify the following option to access to a different url # options(apinsee.url = \"https://api.insee.fr/\")  library(apinsee) library(httr)  # Set the environment variables INSEE_APP_KEY and INSEE_APP_SECRET in the .Renviron file if (all(nzchar(Sys.getenv(c(\"INSEE_APP_KEY\", \"INSEE_APP_SECRET\"))))) {   # retrieve the token   token <- insee_auth()   # use the token   set_config(config(token = token)) }"},{"path":"https://inseefrlab.github.io/apinsee/reference/insee_deauth.html","id":null,"dir":"Reference","previous_headings":"","what":"Suspend authentication — insee_deauth","title":"Suspend authentication — insee_deauth","text":"Suspend access application.","code":""},{"path":"https://inseefrlab.github.io/apinsee/reference/insee_deauth.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Suspend authentication — insee_deauth","text":"","code":"insee_deauth(verbose = TRUE)"},{"path":"https://inseefrlab.github.io/apinsee/reference/insee_deauth.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Suspend authentication — insee_deauth","text":"verbose logical; want informative messages?","code":""},{"path":"https://inseefrlab.github.io/apinsee/reference/insee_deauth.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Suspend authentication — insee_deauth","text":"NULL, invisibly.","code":""},{"path":"https://inseefrlab.github.io/apinsee/reference/insee_endpoint.html","id":null,"dir":"Reference","previous_headings":"","what":"Get Insee endpoints — insee_endpoint","title":"Get Insee endpoints — insee_endpoint","text":"Cette fonction renvoie les points d'accès définis par api.insee.fr.","code":""},{"path":"https://inseefrlab.github.io/apinsee/reference/insee_endpoint.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get Insee endpoints — insee_endpoint","text":"","code":"insee_endpoint(insee_url = getOption(\"apinsee.url\"))"},{"path":"https://inseefrlab.github.io/apinsee/reference/insee_endpoint.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get Insee endpoints — insee_endpoint","text":"insee_url Adresse du site fournissant les API. Ce paramètre n'est utile que pour un usage interne à l'Insee, voir la section \"Utilisation interne à l'Insee\".","code":""},{"path":"https://inseefrlab.github.io/apinsee/reference/insee_endpoint.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get Insee endpoints — insee_endpoint","text":"Un objet de classe oauth_endpoint.","code":""},{"path":"https://inseefrlab.github.io/apinsee/reference/insee_endpoint.html","id":"utilisation-interne-l-insee","dir":"Reference","previous_headings":"","what":"Utilisation interne à l'Insee","title":"Get Insee endpoints — insee_endpoint","text":"Dans le cas d'utilisation standard, la valeur de l'option apinsee.url est \"https://api.insee.fr/\". Il n'est pas utile de la modifier sauf pour les agents de l'Insee qui souhaiteraient utiliser les plateformes de test, de recette ou de pré-production. Dans ce cas, afin de rendre les programmes portables d'un environnement à un autre.il est préférable de déclarer l'adresse en modifiant l'option apinsee.url : options(apinsee.url = \"<URL>\").","code":""},{"path":"https://inseefrlab.github.io/apinsee/reference/insee_endpoint.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get Insee endpoints — insee_endpoint","text":"","code":"# Modify the following option to access to a different url # options(apinsee.url = \"https://api.insee.fr/\")  library(apinsee) insee_endpoint() #> <oauth_endpoint> #>  access: https://api.insee.fr/token #>  revoke: https://api.insee.fr/revoke"},{"path":"https://inseefrlab.github.io/apinsee/reference/insee_scopes.html","id":null,"dir":"Reference","previous_headings":"","what":"Addresses of the Insee APIs — insee_scopes","title":"Addresses of the Insee APIs — insee_scopes","text":"Cette fonction renvoie les adresses des API de l'Insee.","code":""},{"path":"https://inseefrlab.github.io/apinsee/reference/insee_scopes.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Addresses of the Insee APIs — insee_scopes","text":"","code":"insee_scopes(   api = c(\"Sirene - V3\", \"Nomenclatures - v1\", \"DonneesLocales - V0.1\", \"BDM - V1\"),   insee_url = getOption(\"apinsee.url\") )"},{"path":"https://inseefrlab.github.io/apinsee/reference/insee_scopes.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Addresses of the Insee APIs — insee_scopes","text":"api Un vecteur de chaînes de caractères dont chaque élément comprend le nom d'une API. La correspondance partielle est acceptée. insee_url Adresse du site fournissant les API. Ce paramètre n'est utile que pour un usage interne à l'Insee, voir la section \"Utilisation interne à l'Insee\".","code":""},{"path":"https://inseefrlab.github.io/apinsee/reference/insee_scopes.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Addresses of the Insee APIs — insee_scopes","text":"Un vecteur de chaînes de caractères comprenant les adresses des API de l'Insee.","code":""},{"path":"https://inseefrlab.github.io/apinsee/reference/insee_scopes.html","id":"utilisation-interne-l-insee","dir":"Reference","previous_headings":"","what":"Utilisation interne à l'Insee","title":"Addresses of the Insee APIs — insee_scopes","text":"Dans le cas d'utilisation standard, la valeur de l'option apinsee.url est \"https://api.insee.fr/\". Il n'est pas utile de la modifier sauf pour les agents de l'Insee qui souhaiteraient utiliser les plateformes de test, de recette ou de pré-production. Dans ce cas, afin de rendre les programmes portables d'un environnement à un autre.il est préférable de déclarer l'adresse en modifiant l'option apinsee.url : options(apinsee.url = \"<URL>\").","code":""},{"path":"https://inseefrlab.github.io/apinsee/reference/insee_scopes.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Addresses of the Insee APIs — insee_scopes","text":"","code":"insee_scopes() #> [1] \"https://api.insee.fr/entreprises/sirene/V3\"        #> [2] \"https://api.insee.fr/entreprises/sirene\"           #> [3] \"https://api.insee.fr/metadonnees/nomenclatures/v1\" #> [4] \"https://api.insee.fr/metadonnees/nomenclatures\"    #> [5] \"https://api.insee.fr/donnees-locales/V0.1\"         #> [6] \"https://api.insee.fr/series/BDM/V1\"                #> [7] \"https://api.insee.fr/series/BDM\"                   insee_scopes(\"Sirene\") #> [1] \"https://api.insee.fr/entreprises/sirene/V3\" #> [2] \"https://api.insee.fr/entreprises/sirene\"    insee_scopes(\"Nomenclatures\") #> [1] \"https://api.insee.fr/metadonnees/nomenclatures/v1\" #> [2] \"https://api.insee.fr/metadonnees/nomenclatures\"    insee_scopes(c(\"Sirene\", \"Nomenclatures\", \"DonneesLocales\", \"BDM\")) #> [1] \"https://api.insee.fr/entreprises/sirene/V3\"        #> [2] \"https://api.insee.fr/entreprises/sirene\"           #> [3] \"https://api.insee.fr/metadonnees/nomenclatures/v1\" #> [4] \"https://api.insee.fr/metadonnees/nomenclatures\"    #> [5] \"https://api.insee.fr/donnees-locales/V0.1\"         #> [6] \"https://api.insee.fr/series/BDM/V1\"                #> [7] \"https://api.insee.fr/series/BDM\""},{"path":"https://inseefrlab.github.io/apinsee/reference/insee_token.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate a valid token for an Insee application — insee_token","title":"Generate a valid token for an Insee application — insee_token","text":"Cette fonction génère un jeton d'accès valide à une application créée sur le site api.insee.fr.","code":""},{"path":"https://inseefrlab.github.io/apinsee/reference/insee_token.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate a valid token for an Insee application — insee_token","text":"","code":"insee_token(   app,   cache = getOption(\"httr_oauth_cache\"),   config_init = list(),   credentials = NULL,   validity_period = 604800,   insee_url = getOption(\"apinsee.url\"),   api = c(\"Sirene - V3\", \"Nomenclatures - v1\", \"DonneesLocales - V0.1\", \"BDM - V1\") )"},{"path":"https://inseefrlab.github.io/apinsee/reference/insee_token.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generate a valid token for an Insee application — insee_token","text":"app OAuth consumer application, created oauth_app() cache logical value string. TRUE means cache using default cache file .httr-oauth, FALSE means cache, NA means guess using sensible heuristics. string means use specified path cache file. config_init Additional configuration settings sent POST(), e.g. user_agent(). credentials Advanced use : allows completely customise token generation. validity_period Un entier; durée de validité du jeton d'accès. Cette valeur n'est utilisée que lorsque le dernier jeton d'accès expiré ou été révoqué. insee_url Adresse du site fournissant les API. Ce paramètre n'est utile que pour un usage interne à l'Insee, voir la section \"Utilisation interne à l'Insee\". api Un vecteur de chaînes de caractères dont chaque élément comprend le ou les noms des API accessibles par l'application. La correspondance partielle est acceptée.","code":""},{"path":"https://inseefrlab.github.io/apinsee/reference/insee_token.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generate a valid token for an Insee application — insee_token","text":"Un objet de classe TokenInsee.","code":""},{"path":"https://inseefrlab.github.io/apinsee/reference/insee_token.html","id":"utilisation-interne-l-insee","dir":"Reference","previous_headings":"","what":"Utilisation interne à l'Insee","title":"Generate a valid token for an Insee application — insee_token","text":"Dans le cas d'utilisation standard, la valeur de l'option apinsee.url est \"https://api.insee.fr/\". Il n'est pas utile de la modifier sauf pour les agents de l'Insee qui souhaiteraient utiliser les plateformes de test, de recette ou de pré-production. Dans ce cas, afin de rendre les programmes portables d'un environnement à un autre.il est préférable de déclarer l'adresse en modifiant l'option apinsee.url : options(apinsee.url = \"<URL>\").","code":""},{"path":"https://inseefrlab.github.io/apinsee/news/index.html","id":"apinsee-0019000","dir":"Changelog","previous_headings":"","what":"apinsee 0.0.1.9000","title":"apinsee 0.0.1.9000","text":"Set default validity period tokens one week (#2). Added DonneesLocales - V0.1 API BDM - V1 API. Added NEWS.md file track changes package.","code":""}]
